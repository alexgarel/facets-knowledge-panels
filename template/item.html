<div class="facets-knowledge-panels">
  {% if panels.get("knowledge_panels") %}
    {% for panel_name, content in panels.get("knowledge_panels").items() %}
      <!-- only display panels with elements -->
      {% if content.elements %}
        <!-- rendering a panel -->
      <details>
        <!--  rendering title of the panel  -->
        <summary><i>{{ content.title_element.title }}</i></summary>
            {% for element in content.elements -%}
              <!-- Rendering html data, escaping html characters -->
              {{ element.text_element.html|safe }}
              <!-- Rendering source url and source text  -->
              {%if element.text_element.source_url +%}
                <em>
                  source:
                  <a href="{{element.text_element.source_url}}"
                    >{{ element.text_element.source_text }}
                  </a>
                </em>
              {% endif %}
            {% endfor %}
    </details>
      {% endif %}
    {% endfor %}
  {% endif %}
</div>
